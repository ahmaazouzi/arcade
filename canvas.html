<!DOCTYPE HTML>
<html>
<head>
<script type="text/javascript" src="kibo.min.js"></script>
</head>
<body>
    <canvas id='c' width='505' height='606'></canvas>
    <script>
var canvas = document.querySelector('#c');
var context = canvas.getContext( '2d' );

var g = 210;
var j = 420;

var k = new Kibo();
k.down(['up'], function() {
    j -= 100;
});
k.down(['down'], function() {
    j += 100;
});
k.down(['right'], function() {
    g += 100;
});
k.down(['left'], function() {
    g -= 100;
});

function animate() {
    requestAnimationFrame( animate );
    draw(); 
};
function bckg(){
    var batat = new Image();
    batat.src = 'bckg.png'
    context.drawImage(batat,0,0, c.width, c.height);
};
var Enemy = function(x, y, speed){
    var obj = Object.create(Enemy.prototype);
    var image = new Image();
    obj.image = image;
    obj.x = x;
    obj.y = y;
    obj.speed = speed;
    return obj;
};
Enemy.prototype.move = function(){
    this.image.src = "enemy-bug.png";
    context.drawImage(this.image, this.x, this.y, 83, 170);
    this.x += this.speed;
    if (Math.abs(this.x) >= 525){
        this.x = -20;
    };
};


function mama(){
    var vava = new Image();
    vava.src = "char-boy.png"
    context.drawImage(vava, g, j, 83,170);
    for (wawa in arraya){
        var gaga = arraya[wawa];
        if (g < gaga.x + 50 &&
        g+ 50 > gaga.x &&
        j < gaga.y + 50 &&
        50 + j > gaga.y){
            g = 210;
            j = 420;
        };

    };
};
var amy = Enemy(0,30,15);
var nana = Enemy(0,120,10)
var lala = Enemy(0,220,7)
var  arraya = [amy, nana, lala]
function draw() {
    bckg();
    amy.move();
    nana.move();
    lala.move();
    mama();
};
animate();
    </script>
</body>
</html>